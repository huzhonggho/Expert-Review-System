import{d as m,u as v,z as f,r as g,g as w,a as p,o as h,c as k,b as l,e as r,w as x,A as y,B as S,C as B,f as I,p as C,i as T,_ as b}from"./index-ddeb11e4.js";const N=o=>(C("data-v-7345c6ff"),o=o(),T(),o),U={class:"login-container"},V=N(()=>l("div",{class:"desc"},[l("h1",{class:"title"},"专家评审系统")],-1)),F={class:"loginBox"},z=m({__name:"login",setup(o){const c=v(),u=f(),t=g(!1),e=w({username:"",password:""}),d=async()=>{if(e.username.trim()==""||e.password.trim()==""){c.warning("请正确输入用户名和密码");return}t.value=!0;let a;try{a=(await y(e)).data}catch(s){t.value=!1,console.error(s);return}localStorage.setItem("token",a.token),u.setToken(a.token),S(),c.success("登录成功"),t.value=!1,B.push("/")};return(a,s)=>{const i=p("n-input"),_=p("n-button");return h(),k("div",U,[V,l("div",F,[r(i,{type:"text",value:e.username,"onUpdate:value":s[0]||(s[0]=n=>e.username=n),placeholder:"请输入用户名"},null,8,["value"]),r(i,{type:"password",value:e.password,"onUpdate:value":s[1]||(s[1]=n=>e.password=n),"show-password-on":"click",placeholder:"请输入密码"},null,8,["value"]),r(_,{type:"primary",loading:t.value,onclick:d},{default:x(()=>[I("登录")]),_:1},8,["loading"])])])}}});const E=b(z,[["__scopeId","data-v-7345c6ff"]]);export{E as default};
